<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>cyrpter task</title>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta name="description" content="ant crypter task documentation" />
  <meta name="keywords" content="ant crypter task build encrypt decrypt key generate file symmetric" />
  <link rel="stylesheet" type="text/css" href="../../../css/tech.css"/>
</head>
<body>
<h2><a name="crypter">crypter</a></h2>
<h3>Description</h3>
<p>
</p>
<p>This task can be used to generate symmetric keys as well as perform encryption and decryption of files using these 
keys and appropriate cipher transformations.</p>
<p>This task assumes that you have a JDK that contains the Java encryption libaries formerly known as JCE or that you 
have these libraries added to an earlier JDK release. For more information refer to 
<a href="http://java.sun.com/products/jce/index.jsp">Java Cryptography Extension (JCE)</a>. Currently all calls use 
default values for the cryptographic provider used when generating keys and so on. If you need to use a cryptographic 
provider other than the default provider as set up by a standard JDK installation see 
<a href="http://java.sun.com/j2se/1.4.2/docs/guide/security/jce/JCERefGuide.html#InstallProvider">Installing JCE 
Providers for the Java 2 SDK, v 1.4</a> for more information.</p>

<h3>Parameters</h3>
<table border="1" cellpadding="2" cellspacing="0">
  <tbody><tr>
    <td valign="top"><b>Attribute</b></td>
    <td valign="top"><b>Description</b></td>
    <td align="center" valign="top"><b>Required</b></td>
  </tr>
  <tr>
    <td valign="top">encrypt</td>
    <td valign="top">Whether to perform encryption or decryption. Setting this to "true" will perform encryption, 
setting it to false will perform decryption.</td>
    <td align="center" valign="top">No; default is "false", ignored if <b>inputFile</b> <i>and</i> <b>outputFile</b> are 
not set.</td>
  </tr>
  <tr>
    <td valign="top">keyFile</td>
    <td valign="top">The file containing the key to be used for encryption or decryption (i.e. if <b>inputFile</b> <i>and</i>  
<b>outputFile</b> have been set). If <b>generateKey</b> has been set to "true" then the key will be generated to this file.</td>
    <td align="center" valign="top">Yes.</td>
  </tr>
  <tr>
    <td valign="top">generateKey</td>
    <td valign="top">Whether to generate a key. Setting this to "true" will generate a key (this is done as the first 
action of this task, so this key can be used to perform encryption or decryption in the same call). Setting this to 
false will not generate a new key, but will use the key specified by <b>keyFile</b>.</td>
    <td align="center" valign="top">No; default is "false".</td>
  </tr>
  <tr>
    <td valign="top">keyAlgorithm</td>
    <td valign="top">What algorithm to use to generate a key.</td>
    <td align="center" valign="top">No; default is "Blowfish", ignored if <b>generateKey</b> set to "false".</td>
  </tr>
  <tr>
    <td valign="top">inputFile</td>
    <td valign="top">The input file for a cryptographic transformation. If <b>encrypt</b> is set to "true" this should be the 
unencrypted source file that you want to encrypt. If <b>encrypt</b> is set to "false" this should be the encrypted source file 
that you want to decrypt.</td>
    <td align="center" valign="top">Only if <b>outputFile</b> is also set.</td>
  </tr>  
  <tr>
    <td valign="top">outputFile</td>
    <td valign="top">The output file of a cryptographic transformation. If <b>encrypt</b> is set to "true" this will be the 
result of encrypting the file specified by <b>inputFile</b>. If <b>encrypt</b> is set to "false" this will be the result of 
decrypting the file specified by <b>inputFile</b>.</td>
    <td align="center" valign="top">Only if <b>inputFile</b> is also set.</td>
  </tr>  
  <tr>
    <td valign="top">cipherTransformationtd></td>
    <td valign="top">The cipher transformation to use during encyrption or decryption operation. This <i>must</i> be set if 
you are using a key generated by anything other than the default "Blowfish" key generation algorithm.</td>
	<td align="center" valign="top">No; default is "Blowfish/ECB/PKCS5Padding", ignored if <b>inputFile</b> <i>and</i> 
<b>outputFile</b> set to "false".</td>
  </tr>  
</tbody></table>
<h3>Examples</h3>
All of these examples assume you have defined the task by including the following taskdef in your ant build file:
<pre>
&lt;taskdef name="crypter" classname="za.co.massdosage.ant.Crypter"/&gt;
</pre>
<p>This must also be run prior to calling the example task fragments shown below.</p>

<pre>
&lt;crypter keyFile="key.ser" generateKey="true" keyAlgorithm="Blowfish"/&gt;
</pre>
<p>
Generates a key and serialises this to a file called "key.ser" using the default key generation algorithm (Blowfish).
</p>

<pre>
&lt;crypter keyFile="des-key.ser" generateKey="true" keyAlgorithm="DES"/&gt;
</pre>
<p>
Generates a key and serialises this to a file called "des-key.ser" using the DES key generation algorithm.
</p>

<pre>
&lt;crypter encrypt="true" keyFile="key.ser" inputFile="source.txt" outputFile="encrypted.txt" /&gt;
</pre>
<p>
Encrypts the contents of the "source.txt" file using an existing key file, "key.ser" and places the results of this 
encryption in the file "encrypted.txt". This assumes that the key file was generated by the Blowfish key generation 
algorithm since no value has been specified for "cipherTransformation" (i.e. "Blowfish/ECB/PKCS5Padding" is assumed). 
</p>

<pre>
&lt;crypter encrypt="false"  keyFile="key.ser" inputFile="encrypted.txt" outputFile="decrypted.txt" /&gt;
</pre>
<p>
Decrypts the contents of the "encrypted.txt" file using an existing key file, "key.ser" and places the results of this 
decryption in the file "decrypted.txt". This assumes that the key file was generated by the Blowfish key generation 
algorithm since no value has been specified for "cipherTransformation" (i.e. "Blowfish/ECB/PKCS5Padding" is assumed). 
</p>

<pre>
&lt;crypter encrypt="true" generateKey="true" keyAlgorithm="DES" keyFile="des-key.ser" 
	        inputFile=""source.txt" outputFile="encrypted.txt" cipherTransformation="DES/ECB/PKCS5Padding" /&gt;
</pre>
<p>
Generates a key and serialises this to a file called "des-key.ser" using the DES key generation algorithm. Then 
uses the DES algorithm to encrypt the contents of the "source.txt" file using this key file and places the results of 
the encryption in the file "encrypted.txt". 
</p>

<pre>
&lt;crypter encrypt="false" keyFile="des-key.ser" inputFile="encrypted.txt" outputFile="decrypted.txt" 
    cipherTransformation="DES/ECB/PKCS5Padding"/&gt;
</pre>
<p>
Decrypts the contents of the "encrypted.txt" file using an existing DES key file, "des-key.ser" and the DES algorithm 
and places the results of this decryption in the file "decrypted.txt". 
</p>

</body></html>